<ion-header>
  <ion-navbar color="danger">
    <ion-title>{{!spending._id ? 'Add' : 'Update'}} spending</ion-title>
    <ion-buttons start>
      <button ion-button (click)="dismiss()" color="light">
        <span showWhen="ios">Cancel</span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
  <ion-toolbar color="danger">
    <ion-segment [(ngModel)]="type" (ionChange)="changeTabType()" color="light">
      <ion-segment-button value="spending">
        Spending
      </ion-segment-button>
      <ion-segment-button value="earning">
        Earning
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>
<ion-content padding-top>
  <h3 [ngClass]="type" text-center (click)="focusMoney()">{{type==='spending' ? '-' : '+'}} {{(spending.money || 0) | currency:'VND':true }}</h3>
  <ion-grid>
    <ion-row>
      <ion-item>
        <ion-label stacked>Money</ion-label>
        <ion-input type="number" [(ngModel)]="spending.money" #moneyInput></ion-input>
      </ion-item>      
      <ion-item>
        <ion-label stacked>Input date</ion-label>
        <ion-datetime displayFormat="DD/MM/YYYY" [(ngModel)]="spending.input_date"></ion-datetime>
      </ion-item>      
    </ion-row>
    <ion-row>
      <ion-col width-50>
        <select-wallet *ngIf="wallets" [wallets]="wallets" [(ngModel)]="spending.wallet_id" label="Wallet"></select-wallet>
      </ion-col>
      <ion-col width-50 center>
        <ion-item>
          <ion-label>Bookmark</ion-label>
          <ion-toggle color="primary" [(ngModel)]="spending.is_bookmark"></ion-toggle>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row [ngSwitch]="type">
      <ion-col width-100 *ngSwitchCase="'spending'">
        <select-type-spending *ngIf="typeSpendings" [typeSpendings]="typeSpendings" [(ngModel)]="type_spending_id" label="Type spending"></select-type-spending>        
      </ion-col>
      <ion-col width-100 *ngSwitchCase="'earning'">
        <select-type-spending *ngIf="typeEarnings" [typeSpendings]="typeEarnings" [(ngModel)]="type_earning_id" label="Type earning"></select-type-spending>
      </ion-col>
    </ion-row>
  </ion-grid>  
  <ion-item>
    <ion-label stacked>Description</ion-label>
    <ion-input type="text" [(ngModel)]="spending.des" [suggestionData]="['thanh', 'intenet']"></ion-input>
  </ion-item>
  <div padding>
    <button ion-button block full (click)="save()">Save</button>
  </div>
</ion-content>
